<!DOCTYPE html>
<html>

<head>
  <script src="https://cdn.jsdelivr.net/npm/markdown-it@8.4.2/dist/markdown-it.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/highlightjs@9.12.0/highlight.pack.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/classeur/markdown-it-mathjax/markdown-it-mathjax.min.js"></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/highlight.js/src/styles/vs.min.css" />
  <link rel="stylesheet" href="markdown.css" />
  <style>
    code {
      color: rgb(163, 21, 21);
    }

    body {
      max-width: 60em;
      margin: auto;
    }

    pre {
      white-space: pre-wrap;
      word-wrap: break-word;
    }
  </style>
  <script>
    'use strict';
    $(function () {
      const this_url = new URL(window.location.href);
      const that_url = new URL(this_url.searchParams.get("p"));
      console.log(that_url);
      fetch(that_url).then(response => response.text()).then(md_text => {
        const md = window.markdownit({
          html: true,
          linkify: true,
          highlight: function (str, lang) {
            if (lang && hljs.getLanguage(lang)) {
              return hljs.highlight(lang, str).value;
            }
            return '';
          }
        });
        md.use(window.markdownitMathjax());
        const rendered = md.render(md_text);
        $('body').html(rendered);
      });
    });
  </script>
</head>

<body class="vscode-light">
  If the page doesn't load, check console for errors and contact the owner.
</body>

</html>